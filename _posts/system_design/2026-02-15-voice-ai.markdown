---
layout: post
title:  "Voice AI"
date:   2026-02-15
category: System Design
tags: system_design
---

<div style="margin: 40px 0; text-align: center;">
    <button id="test-voice-btn" style="
        background-color: #00D1FF; 
        color: #ffffff; 
        border: none; 
        padding: 20px 40px; 
        font-size: 1.2rem; 
        font-weight: 600; 
        border-radius: 8px; 
        cursor: pointer;
    ">
        Click to Speak with AI
    </button>
</div>

<script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>

<script>
  const btn = document.getElementById('test-voice-btn');
  let conversation;

  btn.onclick = async () => {
    // The widget script exposes the SDK via 'ElevenLabsConvAI'
    if (typeof ElevenLabsConvAI === 'undefined') {
        alert("Voice engine is still loading. Please wait 2 seconds.");
        return;
    }

    if (!conversation) {
      try {
        btn.textContent = "Connecting...";
        conversation = await ElevenLabsConvAI.Conversation.startSession({
          agentId: "agent_4601khceyk26ebb9rbdrx4kvbn4b",
          onConnect: () => {
            btn.textContent = "End Session";
            btn.style.backgroundColor = "#FF3B30";
          },
          onDisconnect: () => {
            conversation = null;
            btn.textContent = "Click to Speak with AI";
            btn.style.backgroundColor = "#00D1FF";
          }
        });
      } catch (err) {
        console.error(err);
        btn.textContent = "Check Console";
      }
    } else {
      await conversation.endSession();
    }
  };
</script>